<!--Registration page by Natalie that allows users to register an account and access their order invoice-->
<script src="user_data.json" type="text/javascript"></script> <!--using this JSON file. registration info goes into file-->
<script>
  // REFERENCED FROM DANIEL PORT
  let params = (new URL(document.location)).searchParams; // "searches params" in the URL ie quantity data
  window.onload = function () {
    if (params.has("RegFullnameError")) { //the RegFullnameError variable from the server
      regError = params.get("RegFullnameError"); //get the errors from the query and store into variable
      nameNoLetter = '<font color="red">Full Name must be letters only</font>'; //assigns same error message into a variable
      if (regError == nameLong) { //if the error received is the same as the error stored in the variable
        document.getElementById("regfullname").innerHTML = regError; //set inner html to display the register error
      }
      if (regError == nameNoLetter) { //if the error received is the same as the error stored in the variable
        document.getElementById("regfullname").innerHTML = regError; //set inner html to displayn the register error
      }
    }

    if (params.has("RegPasswordError")) { //if has RegPasswordError from server 
      regError2 = params.get("RegPasswordError"); //get the errors from the query and store into variable
      passNoMatch = '<font color="red">Password DOES NOT Match</font>'; //error message on screen, assgined to variable
      passLength = '<font color="red">Password must be at least six characters</font>'; //error message on screen, assgined to variable
      if (regError2 == passLength) { //if the error received is the same as the error stored in the variable
        document.getElementById("regpassword").innerHTML = regError2; //set inner html to displayn the register error
      }
      if (regError2 == passNoMatch) { //if the error received is the same as the error stored in the variable
        document.getElementById("regrepeatpassword").innerHTML = regError2; //set inner html to displayn the register error
      }
    }

    if (params.has("RegUsernameError")) { //if has RegUsernameError from query 
      regError3 = params.get("RegUsernameError"); //get the errors from the query and store into variable
      useNumLet = '<font color="red">Username must be characters and numbers only</font>'; //assigns same error into a variable
      useLong = '<font color="red">Username must be ten characters or less</font>'; //assigns same error into a variable
      useShort = '<font color="red">Username must be at least four characters</font>'; //assigns same error into a variable
      useTaken = '<font color="red">User already registered</font>'; //assigns same error into a variable
      if (regError3 == useNumLet) { //if the error received is the same as the error stored in the variable
        document.getElementById("regusername").innerHTML = regError3; //set inner html to displayn the register error
      }
      if (regError3 == useLong) { //if the error received is the same as the error stored in the variable
        document.getElementById("regusername").innerHTML = regError3; //set inner html to displayn the register error
      }
      if (regError3 == useShort) { //if the error received is the same as the error stored in the variable
        document.getElementById("regusername").innerHTML = regError3; //set inner html to displayn the register error
      }
      if (regError3 == useTaken) {
        document.getElementById("regusername").innerHTML = regError3; //set inner html to displayn the register error
      }
    }

    if (params.has("RegEmailError")) { //if has RegEmailError from query
      regError4 = params.get("RegEmailError"); //get the errors from the query and store into variable
      emailInvalid = '<font color="red">Email is invalid</font>'; //assigns same error into a variable
      if (regError4 == emailInvalid) { //if the error received is the same as the error stored in the variable
        document.getElementById("regemail").innerHTML = regError4; //set inner html to displayn the register error
      }
    }

    if (params.has("stickRegFullname")) { //if has stickRegFullname
      showRegFullname = params.get("stickRegFullname"); //get the info from the query and store into variable
      document.getElementById("regfullnamebox").value = showRegFullname; //sets the value to the inoput of the useer
    }

    if (params.has("stickUsername")) { //if has stickRegFullname
      showUsername = params.get("stickUsername"); //get the info from the query and store into variable
      document.getElementById("regusernamebox").value = showUsername; //sets the value to the input of the user
    }

    if (params.has("stickEmail")) { //if has stickEmail
      showEmail = params.get("stickEmail"); //get the info from the query and store into variable
      document.getElementById("regemailbox").value = showEmail; //set the value to the input of the user
    }
  } 
</script>
<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8">
  <title>Register</title>
  <link rel="stylesheet" href="register.css"> <!--style sheet for registration-->
</script>
</head>
</html>
<script>
 //REFERENCED FROM DANIEL PORT'S ASSIGNMENT 2 WORKSHOP, 11/19
 //Carries quantity data into the POST action "/register_form" putting the data onto the invoice
  register_form.action = "/register_form" + document.location.search;
</script>